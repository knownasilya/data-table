!function e(t,n,a){function s(r,i){if(!n[r]){if(!t[r]){var l="function"==typeof require&&require;if(!i&&l)return l(r,!0);if(o)return o(r,!0);throw new Error("Cannot find module '"+r+"'")}var c=n[r]={exports:{}};t[r][0].call(c.exports,function(e){var n=t[r][1][e];return s(n?n:e)},c,c.exports,e,t,n,a)}return n[r].exports}for(var o="function"==typeof require&&require,r=0;r<a.length;r++)s(a[r]);return s}({1:[function(e,t){Ember.TEMPLATES["components/data-table-bin"]=e("./template.hbs");var n=Ember.Component.extend({classNames:["header-item-bin"],classNameBindings:["over"],dragOver:function(e){this.set("over",!0),e.preventDefault()},drop:function(e){{var t,n=JSON.parse(e.dataTransfer.getData("application/json")),a=this.get("columns"),s=this.get("parentView.columns");this.get("parentView.defaultColumns")}!a.findBy("id",n.id)&&s.without(s.findBy("id",n.id)).compact().length>=1&&(t=this.get("parentView.availableColumns").findBy("id",n.id),t&&(this.get("columns").pushObject(t),this.set("parentView.columns",s.without(t)))),this.set("over",!1)},dragEnter:function(){this.set("over",!0)},dragLeave:function(){this.set("over",!1)}});t.exports=n},{"./template.hbs":2}],2:[function(e,t){var n=Ember.Handlebars;t.exports=n.template(function(e,t,n,a,s){function o(e,t){var a,s="";return t.buffer.push("\n    "),a=n["if"].call(e,"columnsComposable",{hash:{},hashTypes:{},hashContexts:{},inverse:m.program(4,i,t),fn:m.program(2,r,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\n  "),s}function r(e,t){var a,s,o="";return t.buffer.push("\n      <li>"),t.buffer.push(p((a=n["data-table-composable-column"]||e&&e["data-table-composable-column"],s={hash:{content:"column"},hashTypes:{content:"ID"},hashContexts:{content:e},contexts:[],types:[],data:t},a?a.call(e,s):h.call(e,"data-table-composable-column",s)))),t.buffer.push("</li>\n    "),o}function i(e,t){var a,s,o="";return t.buffer.push(" \n      <li>"),t.buffer.push(p((a=n["data-table-column"]||e&&e["data-table-column"],s={hash:{content:"column","class":"btn btn-xs btn-default"},hashTypes:{content:"ID","class":"STRING"},hashContexts:{content:e,"class":e},contexts:[],types:[],data:t},a?a.call(e,s):h.call(e,"data-table-column",s)))),t.buffer.push("</li>\n    "),o}function l(e,t){t.buffer.push('\n    <li><span class="text-muted">No attributes available.</span></li>\n  ')}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,Ember.Handlebars.helpers),s=s||{};var c,u="",h=n.helperMissing,p=this.escapeExpression,m=this;return s.buffer.push('<ul class="well well-sm list-unstyled list-inline">\n  '),c=n.each.call(t,"column","in","columns",{hash:{},hashTypes:{},hashContexts:{},inverse:m.program(6,l,s),fn:m.program(1,o,s),contexts:[t,t,t],types:["ID","ID","ID"],data:s}),(c||0===c)&&s.buffer.push(c),s.buffer.push("\n</ul>\n"),u})},{}],3:[function(e,t){Ember.TEMPLATES["components/data-table-column"]=e("./template.hbs");var n=Ember.Component.extend({classNames:["dt-type"],attributeBindings:["draggable"],classNameBindings:["dataType"],draggable:"true",dataType:Ember.computed.alias("content.attribute.type"),dragStart:function(e){var t={id:this.get("content.id")};e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("application/json",JSON.stringify(t))}});t.exports=n},{"./template.hbs":4}],4:[function(e,t){var n=Ember.Handlebars;t.exports=n.template(function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,Ember.Handlebars.helpers),s=s||{};var o,r="";return o=n._triageMustache.call(t,"content.name",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push(" \n"),r})},{}],5:[function(e,t){var n=e("./name"),a=e("../data-table-column/component");Ember.TEMPLATES["components/data-table-composable-column"]=e("./template.hbs");var s=a.extend({classNames:["btn-group"],NameViewClass:n,focusOut:function(e){var t=Ember.$(e.target);t.hasClass("name")&&(this.set("content.name",t.text()),t.attr("contenteditable",!1)),e.preventDefault()},dragStart:function(e){var t={id:this.get("content.id"),attributes:this.get("content.attributes")};e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("application/json",JSON.stringify(t))},drop:function(e){var t=e.dataTransfer.getData("application/json");if(t){{var n=JSON.parse(t),a=this.get("content.attributes"),s=this.get("parentView.columns");s.findBy("id",n.id)}this.set("content.attributes",a.concat(n.attributes).uniq())}},actions:{editName:function(){this.get("nameView").send("makeEditable")}}});t.exports=s},{"../data-table-column/component":3,"./name":6,"./template.hbs":8}],6:[function(e,t){function n(e){var t,n,a=document,s=e.get(0);a.body.createTextRange?(t=a.body.createTextRange(),t.moveToElementText(s),t.select()):window.getSelection&&(n=window.getSelection(),t=a.createRange(),t.selectNodeContents(s),n.removeAllRanges(),n.addRange(t))}Ember.TEMPLATES["components/data-table-composable-column/name"]=e("./template.hbs");var a=Ember.View.extend({templateName:"components/data-table-composable-column/name",tagName:"span",classNames:["btn","btn-xs","btn-default","name"],attributeBindings:["contenteditable"],contenteditable:"false",name:null,keyDown:function(e){if(13===e.keyCode){var t=this.$().text();this.setName(t)}},madeEditable:function(){var e=this.get("contenteditable");e&&Ember.run.schedule("afterRender",this,function(){this.$().focus(),n(this.$())})}.observes("contenteditable"),focusOut:function(){var e=this.$().text();this.setName(e)},setName:function(e){Ember.isEmpty(e)?(this.$().text(this.get("name")),this.set("contenteditable","false")):this.setProperties({name:e,contenteditable:"false"})},actions:{makeEditable:function(){this.set("contenteditable","true")}}});t.exports=a},{"./template.hbs":7}],7:[function(e,t){var n=Ember.Handlebars;t.exports=n.template(function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,Ember.Handlebars.helpers),s=s||{};var o,r="";return o=n._triageMustache.call(t,"view.name",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:s}),(o||0===o)&&s.buffer.push(o),s.buffer.push("\n"),r})},{}],8:[function(e,t){var n=Ember.Handlebars;t.exports=n.template(function(e,t,n,a,s){function o(e,t){var a,s="";return t.buffer.push('\n    <li><a href="#"><span '),t.buffer.push(l(n["bind-attr"].call(e,{hash:{"class":":square-icon type",title:"type"},hashTypes:{"class":"STRING",title:"STRING"},hashContexts:{"class":e,title:e},contexts:[],types:[],data:t}))),t.buffer.push("></span> "),a=n._triageMustache.call(e,"attribute",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</a></li>\n  "),s}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,Ember.Handlebars.helpers),s=s||{};var r,i="",l=this.escapeExpression,c=this;return s.buffer.push(l(n.view.call(t,"NameViewClass",{hash:{name:"content.name",viewName:"nameView"},hashTypes:{name:"ID",viewName:"STRING"},hashContexts:{name:t,viewName:t},contexts:[t],types:["ID"],data:s}))),s.buffer.push('\n\n<button type="button" class="btn btn-xs btn-default dropdown-toggle" data-toggle="dropdown">\n  <span class="caret"></span>\n  <span class="sr-only">Toggle Dropdown</span>\n</button>\n\n<ul class="dropdown-menu" role="menu">\n  '),r=n.each.call(t,"content.attributes",{hash:{},hashTypes:{},hashContexts:{},inverse:c.noop,fn:c.program(1,o,s),contexts:[t],types:["ID"],data:s}),(r||0===r)&&s.buffer.push(r),s.buffer.push('\n  <li class="divider"></li>\n  <li><a href="#" '),s.buffer.push(l(n.action.call(t,"editName",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:s}))),s.buffer.push(">Edit Name</a></li>\n</ul>\n"),i})},{}],9:[function(e,t){var n=e("./header");Ember.TEMPLATES["components/data-table"]=e("./template.hbs");var a=Ember.Component.extend({limit:null,autoCompose:!0,columns:Ember.A(),dataset:Ember.A(),columnsComposable:!1,dataTableHeader:n,selectedChanged:function(){var e=this.get("data").filterBy("selected",!0);e&&this.sendAction("action",e)}.observes("data.@each.selected"),selectable:function(){return this.get("action")?!0:!1}.property(),types:function(){return this.get("dataset").reduce(function(e,t){return e.findBy("type",t.constructor.typeKey)||e.pushObject(Ember.Object.create({type:t.constructor.typeKey,keys:Ember.keys(t.toJSON())})),e},[])}.property("dataset"),availableColumns:function(){var e=this.get("columnAliases");if(e&&!Ember.isEmpty(e))return e;var t=this.get("dataset"),n=this.generateColumns(t);return n}.property(),columnsNotInHeader:function(){var e=this.get("availableColumns"),t=this.get("columns");return e.reduce(function(e,n){return t.findBy("id",n.get("id"))||e.pushObject(n),e},[])}.property("availableColumns","columns"),initialColumns:function(){var e=this.get("defaultColumns"),t=this.get("availableColumns"),n=0,a=this.get("limit"),s=e&&e.length,o=t.filter(function(t){var o,r=t.get("id");return s?o=e.contains(r):(o=!a||a>n?!0:!1,n++),o});return o}.property("availableColumns"),prePopulateColumns:function(){var e=this.get("selectable"),t=this.get("initialColumns");e&&t&&t.unshift(null),this.set("columns",t)}.on("init"),data:function(){var e,t=this.get("dataset"),n=this.get("columns"),a=this;if(t=Ember.isArray(t)?t:t.get("content"),!Ember.isArray(t))throw new Error("Dataset input must be an array.");return e=t.map(function(e){var t=e.constructor.typeKey;return n?Ember.Object.create({row:a.columnAttributeMap(n,e,t),model:e,selected:!1}):void 0}).filter(function(e){var t=e.get("row");if(t){var n=t.every(function(e){return Ember.isEmpty(e)});return n?!1:!t.isAny("@this","")}})}.property("dataset","columns.length"),columnAttributeMap:function(e,t,n){if(t){for(var a,s,o,r,s,i=[],l=t.toJSON(),c=(Ember.keys(l),0),u=0,h=[];c<e.length;c++)o=e.objectAt(c),o&&(u=i.get("length"),o.get("isComposed")?(o.get("attributes").forEach(function(e){a=e.get("type")+":"+e.get("attribute"),r=e.get("attribute"),l.hasOwnProperty(r)&&!h.contains(a)&&n===e.get("type")&&(h.push(a),i.splice(c,0,l[r]))}),i.get("length")===u&&i.splice(c,0,"")):(a=o.get("id"),s=o.get("attribute"),r=o.get("attribute.attribute"),l.hasOwnProperty(r)&&!h.contains(a)&&n===s.get("type")?(h.push(a),i.splice(c,0,l[r])):i.splice(c,0,"")));return i}},generateColumns:function(){var e=this.get("types"),t=this.get("autoCompose");return e?e.reduce(function(e,n){var a=n.get("type");return n.get("keys").forEach(function(n){var s=a+":"+n,o=n.capitalize(),r=e.findBy("name",o),i=Ember.Object.create({type:a,attribute:n});t&&r?(r.set("isComposed",!0),r.get("attributes").contains(r.get("attribute"))&&r.get("attributes").pushObject(r.get("attribute")),r.get("attributes").pushObject(i)):e.pushObject(Ember.Object.create({id:s,name:o,attributes:[i],attribute:i}))}),e},[]):void 0},actions:{clearSelected:function(){this.get("data").forEach(function(e){e.set("selected",!1)})}}});t.exports=a},{"./header":12,"./template.hbs":13}],10:[function(e,t){var n=Ember.Handlebars;t.exports=n.template(function(e,t,n,a,s){function o(e,t){var a,s="";return t.buffer.push("\n  "),a=n["if"].call(e,"view.parentView.columnsComposable",{hash:{},hashTypes:{},hashContexts:{},inverse:p.program(4,i,t),fn:p.program(2,r,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\n"),s}function r(e,t){var a,s,o="";return t.buffer.push("\n    "),t.buffer.push(h((a=n["data-table-composable-column"]||e&&e["data-table-composable-column"],s={hash:{content:"view.content"},hashTypes:{content:"ID"},hashContexts:{content:e},contexts:[],types:[],data:t},a?a.call(e,s):u.call(e,"data-table-composable-column",s)))),t.buffer.push("\n  "),o}function i(e,t){var a,s,o="";return t.buffer.push("\n    "),t.buffer.push(h((a=n["data-table-column"]||e&&e["data-table-column"],s={hash:{content:"view.content","class":"btn btn-xs btn-default"},hashTypes:{content:"ID","class":"STRING"},hashContexts:{content:e,"class":e},contexts:[],types:[],data:t},a?a.call(e,s):u.call(e,"data-table-column",s)))),t.buffer.push("\n  "),o}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,Ember.Handlebars.helpers),s=s||{};var l,c="",u=n.helperMissing,h=this.escapeExpression,p=this;return l=n["if"].call(t,"view.content",{hash:{},hashTypes:{},hashContexts:{},inverse:p.noop,fn:p.program(1,o,s),contexts:[t],types:["ID"],data:s}),(l||0===l)&&s.buffer.push(l),s.buffer.push("\n"),c})},{}],11:[function(e,t){Ember.TEMPLATES["components/data-table/collection-item"]=e("./collection-item.hbs");var n=Ember.View.extend({templateName:"components/data-table/collection-item",classNameBindings:["dropSide","columnType"],tagName:"th",dropSide:null,target:Ember.computed.alias("parentView"),columnType:function(){var e=this.get("content.id");e=e?e.split(":").join("-"):e;var t="-column";return e?e+t:"selectable"+t}.property("content"),dragOver:function(e){this.get("content")&&Ember.run.throttle(this,function(){e.originalEvent.offsetX>this.$().width()/2?this.set("dropSide","right"):this.set("dropSide","left"),this.set("parentView.over",!0)},300)},dragLeave:function(){this.set("dropSide",null),this.set("parentView.over",!1)},drop:function(){if(this.get("content")){var e=this.get("dropSide"),t=event.dataTransfer.getData("application/json");if(t){var n=JSON.parse(t),a=this.get("parentView.parentView.availableColumns").findBy("id",n.id);"left"===e?this.send("insertBefore",this.get("content"),a):this.send("insertAfter",this.get("content"),a)}this.set("dropSide",null)}}});t.exports=n},{"./collection-item.hbs":10}],12:[function(e,t){var n=e("./collection-item"),a=Ember.CollectionView.extend({tagName:"tr",content:Ember.computed.alias("parentView.columns"),limit:Ember.computed.alias("parentView.limit"),classNameBindings:["over"],columnsNotInHeader:Ember.computed.alias("parentView.binComponent.columns"),columnsComposable:Ember.computed.alias("parentView.columnsComposable"),itemViewClass:n,dragOver:function(e){e.preventDefault()},dragEnter:function(){this.set("over",!0)},dragLeave:function(){this.set("over",!1)},drop:function(){this.set("over",!1)},insertAt:function(e,t,n){var a,s=this.get("content"),o=this.get("columnsNotInHeader"),r=s.indexOf(e),i=s.findBy("id",t.get("id")),l=this.get("content.length"),c=this.get("limit");if(e.get("id")!==t.get("id")&&(modifiedIndex=r+n,s)){if(i)a=s.indexOf(i),"number"==typeof a&&(s.arrayContentWillChange(a,1,0),s.splice(a,1),this.set("content",s),s.arrayContentDidChange(a,1,0));else if(c&&l===c)return;modifiedIndex>s.length?s.pushObject(t):(s.arrayContentWillChange(modifiedIndex,0,1),s.splice(modifiedIndex,0,t),this.set("content",s),s.arrayContentDidChange(modifiedIndex,0,1)),t&&this.set("columnsNotInHeader",o.without(t))}},actions:{insertBefore:function(e,t){this.insertAt(e,t,0)},insertAfter:function(e,t){this.insertAt(e,t,1)}}});t.exports=a},{"./collection-item":11}],13:[function(e,t){var n=Ember.Handlebars;t.exports=n.template(function(e,t,n,a,s){function o(e,t){var a,s="";return t.buffer.push("\n      <tr>\n        "),a=n["if"].call(e,"selectable",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(2,r,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\n\n        "),a=n.each.call(e,"item.row",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(4,i,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\n      </tr>\n    "),s}function r(e,t){var a,s,o="";return t.buffer.push("\n          <td>"),t.buffer.push(m((a=n.input||e&&e.input,s={hash:{type:"checkbox",checked:"item.selected"},hashTypes:{type:"STRING",checked:"ID"},hashContexts:{type:e,checked:e},contexts:[],types:[],data:t},a?a.call(e,s):p.call(e,"input",s)))),t.buffer.push("</td>\n        "),o}function i(e,t){var a,s="";return t.buffer.push("\n          <td>"),a=n._triageMustache.call(e,"",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</td>\n        "),s}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,Ember.Handlebars.helpers),s=s||{};var l,c,u,h="",p=n.helperMissing,m=this.escapeExpression,f=this;return s.buffer.push(m((c=n["data-table-bin"]||t&&t["data-table-bin"],u={hash:{columns:"columnsNotInHeader",viewName:"binComponent",columnsComposable:"columnsComposable"},hashTypes:{columns:"ID",viewName:"STRING",columnsComposable:"ID"},hashContexts:{columns:t,viewName:t,columnsComposable:t},contexts:[],types:[],data:s},c?c.call(t,u):p.call(t,"data-table-bin",u)))),s.buffer.push('\n<table class="table table-responsive table-hover table-condensed">\n  <thead>\n    '),s.buffer.push(m(n.view.call(t,"dataTableHeader",{hash:{viewName:"columnCollection"},hashTypes:{viewName:"STRING"},hashContexts:{viewName:t},contexts:[t],types:["ID"],data:s}))),s.buffer.push("\n  </thead>\n  <tbody>\n    "),l=n.each.call(t,"item","in","data",{hash:{},hashTypes:{},hashContexts:{},inverse:f.noop,fn:f.program(1,o,s),contexts:[t,t,t],types:["ID","ID","ID"],data:s}),(l||0===l)&&s.buffer.push(l),s.buffer.push("\n  </tbody>\n</table>\n"),h})},{}],14:[function(e){var t=e("./data-table/component"),n=e("./data-table-bin/component"),a=e("./data-table-column/component"),s=e("./data-table-composable-column/component");Ember.Application.initializer({name:"data-table",initialize:function(e){e.register("component:data-table",t,{singleton:!1}),e.register("component:data-table-bin",n,{singleton:!1}),e.register("component:data-table-column",a,{singleton:!1}),e.register("component:data-table-composable-column",s,{singleton:!1})}})},{"./data-table-bin/component":1,"./data-table-column/component":3,"./data-table-composable-column/component":5,"./data-table/component":9}]},{},[14]);